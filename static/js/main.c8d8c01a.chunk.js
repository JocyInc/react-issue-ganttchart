(this["webpackJsonpreact-issue-ganttchart"]=this["webpackJsonpreact-issue-ganttchart"]||[]).push([[0],{134:function(e,t,n){},144:function(e,t,n){},239:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(12),u=n.n(r),s=n(79),i=n(13),l=(n(134),n(39)),o=n(118),c=n(17),d=n(4),f=n(278),p=n(115),g=n.n(p),h=n(280),b=n(242),m=n(279),v=n(113),_=n(281),k=n(116),j=n.n(k),y=n(8),w={multiselectContainer:{width:"27%",display:"inline-block",verticalAlign:"middle",padding:"4px",alignItems:"flex-end"},chips:{background:"light blue",fontSize:"15px"},searchBox:{border:"none"}},x=Object(d.a)((function(e){return{root:{"& > *":{fontSize:"13px",marginRight:"4px"}}}}))((function(e){var t=e.classes;return Object(y.jsxs)("form",{noValidate:!0,children:[Object(y.jsx)(h.a,{className:t.root,required:!0,placeholder:"https://github.com/lamact/react-issue-ganttchart",label:"Git Repository URL",style:{width:"25%",verticalAlign:"middle"},onChange:function(t){e.onGitURLChange(t.target.value)},inputRef:e.register,name:"git_url"}),Object(y.jsx)(h.a,{className:t.root,type:"password",placeholder:"Access Token",label:"Access Token",style:{width:"10%",verticalAlign:"middle"},onChange:function(t){e.onTokenChange(t.target.value)},inputRef:e.register,name:"token"}),Object(y.jsx)(v.Multiselect,{className:t.root,options:e.labels,selectedValues:e.selected_labels,onSelect:function(t){e.onSelectedLabelChange(t)},onRemove:function(t){e.onSelectedLabelChange(t)},displayValue:"name",style:w,placeholder:"filter by labels",hidePlaceholder:"false",emptyRecordMsg:"No Labels",closeIcon:"cancel"}),Object(y.jsx)(_.a,{className:t.root,size:"small",options:e.member_list,getOptionLabel:function(e){return e.name},value:e.selected_assignee,noOptionsText:"Enter the token.",onChange:function(t,n){e.onSelectedAssigneeChange(n)},style:{width:"15%",verticalAlign:"middle",display:"inline-block",marginRight:"15px"},renderInput:function(e){return Object(y.jsx)(h.a,Object(c.a)(Object(c.a)({},e),{},{className:t.root,label:"Assignee",variant:"standard"}))}}),Object(y.jsxs)(m.a,{size:"small",style:{height:"34px"},children:[Object(y.jsx)(b.a,{onClick:function(t){e.onZoomChange("Weeks")},children:"Weeks"}),Object(y.jsx)(b.a,{onClick:function(t){e.onZoomChange("Days")},children:"Days"})]}),Object(y.jsx)(f.a,{color:"primary",style:{verticalAlign:"middle"},children:Object(y.jsx)(g.a,{onClick:function(t){e.onUpdateClick()}})}),Object(y.jsx)(f.a,{color:"primary",style:{verticalAlign:"middle"},children:Object(y.jsx)(j.a,{onClick:function(){return window.open("https://github.com/lamact/react-issue-ganttchart")}})})]})})),O=(n(144),x),C=n(16),D=(n(145),n(7)),A=n.n(D),I=n(14),L=n(69),S=n.n(L),T=function(e){return null!==e&&e!==[]&&void 0!==e&&""!==e||!!Array.isArray(e)&&e.length>0},R=function(e){return T(e)&&"id"in e&&"name"in e},z=function(e){return!!T(e)&&/https:\/\//.test(e)},B=function(e,t){return Math.round(e/t)*t},M=function(e,t){var n=S()(e,"YYYY/MM/DD");return S()(t,"YYYY/MM/DD").diff(n,"days")+1},N=function(e,t){var n=new Date(e),a=S()(n,"YYYY/MM/DD").add(t-1,"d").toDate();return E(a)},E=function(e){var t=e.toLocaleDateString("ja-JP");/\d{4}\/\d{1,2}\/\d{1,2}/.test(t)||(t=e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate());return t},U=function(e){return E(new Date(e))},Y=function(e,t,n){return null!=e&&null!=t?E(e):U(n)},G=function(e,t,n){return null!=e&&null!=t?new Date(t):new Date(n)},P=function(e,t){return U(null!=t?t:e)},F=function(e,t){return null!=e&&null!=t?M(e,t):1},W=n(80),Z=function(e){return e.length>1&&/^#/.test(e)&&(e=e.substring(1)),e},V=function(e){return e.length>1&&/ +$/.test(e)&&(e=e.slice(0,-1)),e},$=function(e){if(null===e)return null;var t=function(e){if(null===e)return null;if("string"!==typeof e)return null;var t=e.split(/^```yaml/);return null===t||t.length<2||null===(t=t[1].split(/```/))||t.length<2?null:t[0]}(e);if(null===t)return null;var n=null;try{n=W.a.load(t)}catch(a){C.gantt.message({text:"failed load yaml"+t,type:"error"})}return n},H=function(e,t){if(null===e)return null;var n=$(e);if(null===n||!(t in n))return null;var a=n[t];return"number"!==typeof a?null:a},q=function(e,t){if(null===e)return null;var n=function(e,t){if(null===e)return null;var n=$(e);if(null===n||!(t in n))return null;var a=n[t];return"string"!==typeof a?null:V(V(a))}(e,t);return/\d{4}\/\d{1,2}\/\d{1,2}/.test(n)?new Date(n):null},J=function(e,t){if(null===e||null===t)return null;var n=W.a.dump(t);n="```yaml\n"+n+"```";var a=e.split(/^```yaml/);if(null===a||a.length<2)return/```/.test(e)?null:n+"\n"+e;var r=a[0];return null===(a=a[1].split(/```/))||a.length<2?null:r+n+a[1]},Q=function(e){var t="";return T(e)?(e.map((function(e){return R(e)&&T(e.id)&&(t+=e.id+":"+e.name+","),null})),t):null},K=function(e){var t=[];if(T(e)){var n=e.split(",");n.forEach((function(e,a,r){if(a<n.length-1){var u=e.split(":");if(!isNaN(parseInt(u[0]))){var s={id:parseInt(u[0]),name:u[1]};t.push(s)}}}))}else t=[{id:0,name:""}];return t},X="https://api.github.com/repos/",ee="https://github.com/",te=function(e){return!!z(e)&&(!(e.split("/").length<5)&&/github\.com/.test(e))},ne=function(e){if(!te(e))return null;var t=e.split("/");return t.length>=5?t[3]:null},ae=function(e){if(!te(e))return null;var t=e.split("/");return t.length>=5?t[4]:null},re=function(e,t){return te(e)&&T(t)?X+ne(e)+"/"+ae(e)+"/issues/"+t:null},ue=function(e,t,n){if(!te(e)||!T(t)||!T(n))return null;var a="?";return a+="labels=",t.map((function(e){R(e)&&(a+=e.name+",")})),R(n)&&""!==n.name&&(a+="&assignee="+n.name),X+ne(e)+"/"+ae(e)+"/issues"+a},se=function(e){return te(e)?X+ne(e)+"/"+ae(e)+"/labels":null},ie=function(e){return te(e)?X+ne(e)+"/"+ae(e)+"/collaborators":null},le=function(e,t){return te(e)&&T(t)?("number"===typeof(n=t)&&Number.isFinite(n)||(t=Z(t)),t<=0?null:ee+ne(e)+"/"+ae(e)+"/issues/"+t):null;var n},oe=function(e){return!!z(e)&&(!(e.split("/").length<5)&&/gitlab\.com/.test(e))},ce=function(e){if(te(e))return null;if(!z(e))return null;var t=e.split("/");return t.length>=5?t[2]:null},de=function(e){if(!z(e))return null;var t=null,n=ce(e);return null!==n&&(t="https://"+n+"/"),t},fe=function(e){return z(e)?de(e):null},pe=function(e){return z(e)?de(e)+"api/v4/":null},ge=function(e){if(!z(e))return null;var t=e.split("/");return t.length>=5?t[3]:null},he=function(e){if(!z(e))return null;var t=e.split("/");return t.length>=5?t[4]:null},be=function(e){var t="?";return T(e)&&"Tokens that have not yet been entered"!==e&&(t+="access_token="+e),t},me=function(e,t,n,a){if(!z(e))return null;if(!T(t))return null;if(!T(n))return null;if(!R(a))return null;var r=be(t);return T(n)&&(r+="&labels=",n.map((function(e){return R(e)&&(r+=e.name+","),null}))),R(a)&&""!==a.name&&(r+="&assignee_id="+a.id),r+="&per_page=100&state=opened",pe(e)+"projects/"+ge(e)+"%2F"+he(e)+"/issues"+r},ve=function(e,t,n){if(!z(e))return null;if(!T(t))return null;if(!T(n))return null;var a=be(t);return pe(e)+"projects/"+ge(e)+"%2F"+he(e)+"/issues/"+n+a},_e=function(e,t){if(!z(e))return null;var n=be(t);return n+="&per_page=100",pe(e)+"projects/"+ge(e)+"%2F"+he(e)+"/labels"+n},ke=function(e,t){if(!z(e))return null;var n=be(t);return pe(e)+"groups/"+ge(e)+"/members/all"+n},je=n(25),ye=n.n(je),we=function(e){return null!==e.assignee?e.assignee.login:""},xe=function(e,t){var n=q(e,"start_date"),a=q(e,"due_date");return{id:"#"+t.number,text:t.title,start_date:Y(n,a,t.created_at),due_date:G(n,a,t.created_at),duration:F(n,a),progress:H(e,"progress"),assignee:we(t),parent:"#"+H(e,"parent"),description:e,update:P(t.created_at,t.updated_at)}},Oe=function(e,t){var n=U(t.start_date).replace(/\-/g,"/"),a={start_date:n,due_date:N(n,t.duration).replace(/\-/g,"/"),progress:B(t.progress,.01)};return"parent"in t&&(a.parent=parseInt(Z(t.parent))),e=J(e,a)},Ce=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a,r,u){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye.a.get(ue(a,r,u)).then((function(e){e.data.map((function(e){return ye.a.get(re(a,e.number)).then((function(t){var a=xe(t.data.body,e);n.addTask(a),n.sort("due_date",!1)})),null}))})).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,u){return e.apply(this,arguments)}}(),De=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye.a.get(se(n)).then((function(e){var n=[];e.data.map((function(e){return n.push({id:e.id,name:e.name}),null})),t(n)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(a)&&"Tokens that have not yet been entered"!==a?ye.a.get(ie(n),{headers:{Authorization:"token ".concat(a)},data:{}}).then((function(e){var n=[];e.data.map((function(e){return n.push({id:e.id,name:e.login}),null})),t(n)})):console.warn("token is not valid!");case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ie=function(e,t){var n={start_date:E(new Date),due_date:E(new Date),progress:.1,parent:parseInt(Z(e.parent))},a=J("",n);a=encodeURIComponent(a),window.open(function(e){return te(e)?ee+ne(e)+"/"+ae(e)+"/issues/new?assignees=&labels=&title=&body=":null}(t)+a,"_blank")},Le=function(e){return T(e)&&"assignee"in e&&T(e.assignee)&&"name"in e.assignee?e.assignee.name:""},Se=function(e){var t=q(e.description,"start_date"),n=U(e.due_date),a={id:"#"+e.iid,text:e.title,start_date:Y(t,n,e.created_at),due_date:G(t,n,e.created_at),duration:F(t,n),progress:H(e.description,"progress"),assignee:Le(e),description:e.description,update:P(e.created_at,e.updated_at)},r=H(e.description,"parent");return null!==r&&0!==r&&(a.parent="#"+r),a},Te=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a,r,u,s){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye.a.get(me(a,r,u,s)).then((function(e){var n=[];e.data.map((function(e){var t=Se(e);return n.push(t),null})),t({data:n,links:[]})})).catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a,r,u,s){return e.apply(this,arguments)}}(),Re=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye.a.get(_e(n,a)).then((function(e){var n=[];e.data.map((function(e){return n.push(e),null})),t(n)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),ze=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye.a.get(ke(n,a)).then((function(e){var n=[];e.data.map((function(e){return n.push({id:e.id,name:e.name}),null})),t(n)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Be=function(e,t,n,a){ye.a.get(ve(a,t,Z(e.id))).then((function(r){var u=r.data;if(parseInt(u.iid)===parseInt(Z(e.id))){var s=function(e,t){var n={start_date:U(t.start_date).replace(/\-/g,"/"),progress:B(t.progress,.01)};return"parent"in t&&(n.parent=parseInt(Z(t.parent))),J(e,n)}(u.description,e);s=encodeURIComponent(s);var i=U(e.start_date),l=N(i,e.duration),o=ve(a,t,Z(e.id))+"&description="+s+"&due_date="+l;ye.a.put(o).then((function(t){n.message({text:"success update issue.  "+e.id})})).catch((function(e){n.message({text:"failed update GitLab issue. check your token.",type:"error"}),Te(n,a)}))}})).catch((function(e){n.message({text:"failed get GitLab issue. check your token.",type:"error"})}))},Me=function(e,t){window.open(function(e,t){return z(e)?fe(e)+ge(e)+"/"+he(e)+"/-/issues/"+t:null}(t,Z(e)),"_blank")},Ne=function(e,t){var n={start_date:E(new Date),progress:.1,parent:parseInt(Z(e.parent))},a=J("",n);a=encodeURIComponent(a),window.open(function(e){return z(e)?fe(e)+ge(e)+"/"+he(e)+"/issues/new?issue[description]=":null}(t)+a,"_blank")},Ee=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a,r,u,s){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(a)){e.next=4;break}return e.abrupt("return",null);case 4:te(a)?Ce(t,n,a,u,s):(oe(a)||null!==ce(a))&&Te(t,n,a,r,u,s);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,u,s){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(n)){e.next=4;break}return e.abrupt("return",null);case 4:te(n)?De(t,n,a):(oe(n)||null!==ce(n))&&Re(t,n,a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(I.a)(A.a.mark((function e(t,n,a){return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(n)){e.next=4;break}return e.abrupt("return",null);case 4:te(n)?Ae(t,n,a):(oe(n)||null!==ce(n))&&ze(t,n,a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Ge=function(e,t,n,a){if(!z(a))return null;te(a)?function(e,t,n,a){var r=re(a,Z(e.id));ye.a.get(r).then((function(u){ye.a.post(r,{body:Oe(u.data.body,e)},{headers:{Authorization:"token ".concat(t)}}).then((function(t){n.message({text:"success update issue.  "+e.id})})).catch((function(e){n.message({text:"failed update GitHub issue. check your token.",type:"error"}),Ce(n,a)}))})).catch((function(e){n.message({text:"failed get GitHub issue. check your url.",type:"error"}),Ce(n,a)}))}(e,t,n,a):(oe(a)||null!==ce(a))&&Be(e,t,n,a)},Pe=function(e,t){if(!z(t))return null;te(t)?function(e,t){window.open(le(t,Z(e)),"_blank")}(e,t):(oe(t)||null!==ce(t))&&Me(e,t)},Fe=n(117),We=n.n(Fe),Ze=n(81),Ve=n.n(Ze),$e={levels:[{name:"Days",scale_height:60,min_column_width:70,scales:[{unit:"day",step:1,format:"%n/%d"}]},{name:"Weeks",scale_height:60,min_column_width:70,scales:[{unit:"month",step:1,format:"%Y\u5e74 %n\u6708"},{unit:"week",step:1,format:"%n/%d~"}]}]},He=function(e){return("00"+(e.getMonth()+1)).slice(-2)+"/"+("00"+e.getDate()).slice(-2)},qe=function(e){var t=Object(a.useRef)(null);return Object(a.useEffect)((function(){var n;(n=C.gantt).config.xml_date="%Y/%m/%d %H:%i",n.config.order_branch=!0,n.config.order_branch_free=!0,n.config.keep_grid_width=!0,n.config.grid_resize=!0,n.config.open_tree_initially=!0,n.config.fit_tasks=!0,n.config.sort=!0,n.config.columns=[{name:"wbs",label:"WBS",width:80,template:function(e){var t=new Date;t.setDate(t.getDate()-7);var a=n.getWBSCode(n.getTask(e.id));return console.log(e.update+" < "+t.toLocaleDateString()),e.update<t.toLocaleDateString()?a+"<a title='There is no update for a week.'><span class='overdue'>i</span></a>":a}},{name:"id",label:"No.",align:"left",tree:!0,width:"*"},{name:"start_date",label:"Start ",align:"center",width:"100",template:function(e){return He(e.start_date)}},{name:"due_date",label:"due ",align:"center",width:"100",template:function(e){return He(e.due_date)}},{name:"assignee",label:"Assignee",align:"center",width:"150"},{name:"add",label:""}],n.plugins({quick_info:!0,drag_timeline:!0}),n.ext.zoom.init($e),function(e){e.templates.timeline_cell_class=function(e,t){if(0===t.getDay()||6===t.getDay())return"weekend";var n=new Date;return n.setDate(n.getDate()-1),t<n?"past_days":void 0},e.templates.rightside_text=function(e,t,n){return n.text},e.templates.task_text=function(e,t,n){return"<span style='text-align:left;'>"+Math.round(100*n.progress)+"% </span>"},e.templates.task_class=function(e,t,n){if(new Date(N(e,(M(e,t)+1)*n.progress))<new Date)return"behind"}}(C.gantt),function(e,t){e.attachEvent("onTaskDblClick",(function(e,n){t.openIssueAtBrowser(e)})),e.attachEvent("onTaskCreated",(function(e,n){t.openNewIssueAtBrowser(e)})),e.attachEvent("onAfterTaskUpdate",(function(n,a){t.updateIssueByAPI(a,e)})),e.attachEvent("onAfterTaskMove",(function(n,a){var r=e.getTask(n);"parent"in r&&0!==r.parent&&(r.parent=a,t.updateIssueByAPI(r,e))})),e.attachEvent("onQuickInfo",(function(n){var a=e.getTask(n);e.locale.labels.detail_button="DETAIL",e.$click.buttons.detail_button=function(e){return t.openIssueAtBrowser(e),!0},e.ext.quickInfo.setContent({header:{title:"",date:Ve.a.renderToStaticMarkup().toString()},content:Ve.a.renderToStaticMarkup(Object(y.jsxs)("div",{children:[Object(y.jsx)("h3",{children:a.text}),Object(y.jsx)(We.a,{children:a.description})]})).toString(),buttons:["detail_button"]})})),e.attachEvent("onTaskDrag",(function(t,n,a,r){var u,s=e.getState(),i=s.min_date,l=s.max_date,o=e.date.add(new Date,s.scale_step,s.scale_unit)-new Date,c=!1;"resize"!=n&&"move"!=n||(Math.abs(a.start_date-i)<o?(u=a.start_date,c=!0):Math.abs(a.end_date-l)<o&&(u=a.end_date,c=!0),c&&(e.render(),e.showDate(u)))}))}(C.gantt,e),C.gantt.init(t.current),C.gantt.ext.zoom.setLevel(e.zoom)}),[]),Object(a.useEffect)((function(){"Days"===e.zoom?C.gantt.eachTask((function(e){e.$open=!0})):C.gantt.eachTask((function(e){e.$open=!1})),C.gantt.ext.zoom.setLevel(e.zoom)}),[e.zoom]),Object(a.useEffect)((function(){C.gantt.clearAll(),Ee((function(e){C.gantt.parse(e),C.gantt.sort("start_date",!1)}),C.gantt,e.git_url,e.token,e.selected_labels,e.selected_assignee)}),[e.git_url,e.token,e.selected_labels,e.selected_assignee,e.update]),Object(y.jsx)("div",{ref:t,style:{width:"100%",height:"100%"}})},Je=(n(239),qe),Qe=n(52),Ke={currentZoom:"Weeks",update:0,git_url:"",token:"Tokens that have not yet been entered",labels:[],selected_labels:[],member_list:[],selected_assignee:{}},Xe=function(e,t){switch(t.type){case"zoomChange":return Object(c.a)(Object(c.a)({},e),{},{currentZoom:t.value});case"gitURLChange":return Object(c.a)(Object(c.a)({},e),{},{git_url:at(t.value.props,t.value.git_url,e.selected_labels)});case"tokenChange":return Object(c.a)(Object(c.a)({},e),{},{token:rt(t.value)});case"labelChange":return Object(c.a)(Object(c.a)({},e),{},{labels:t.value});case"selectedLabelsChange":return Object(c.a)(Object(c.a)({},e),{},{selected_labels:ut(t.value.props,e.git_url,t.value.selected_labels,e.selected_assignee)});case"memberListChange":return Object(c.a)(Object(c.a)({},e),{},{member_list:t.value});case"selectedAssigneeChange":return Object(c.a)(Object(c.a)({},e),{},{selected_assignee:st(t.value.props,e.git_url,e.selected_labels,t.value.selected_assignee)});case"updateClick":return Object(c.a)(Object(c.a)({},e),{},{update:e.update+1});case"openIssueAtBrowser":return et(e,t);case"openNewIssueAtBrowser":return tt(e,t);case"updateIssueByAPI":return nt(e,t);case"setStateFromURLQueryString":return lt(e,t.value.props,t.value.setValue);default:return e}},et=function(e,t){return Pe(t.value,e.git_url),e},tt=function(e,t){return function(e,t){if(!z(t))return null;te(t)?Ie(e,t):(oe(t)||null!==ce(t))&&Ne(e,t)}(t.value,e.git_url),e},nt=function(e,t){return Ge(t.value.gantt_task,e.token,t.value.gantt,e.git_url),e},at=function(e,t,n,a){var r;if((r=V(t)).length>1&&/\/$/.test(r)&&(r=r.slice(0,-1)),te(t=r))C.gantt.message({text:"Access GitHub.com"});else if(oe(t))C.gantt.message({text:"Access GitLab.com"});else{if(null===ce(t))return C.gantt.message({text:"Not a valid URL.",type:"error"}),null;C.gantt.message({text:"Access Maybe GitLab.self-host"})}return it(e,t,n,a),t},rt=function(e){return Object(Qe.bake_cookie)("git_token",e),e},ut=function(e,t,n,a){return it(e,t,n,a),n},st=function(e,t,n,a){return it(e,t,n,a),a},it=function(e,t,n,a){var r=new URLSearchParams(e.location.search);return r.set("giturl",t),r.set("labels",Q(n)),r.set("assignee",Q([a])),e.history.push({search:r.toString()}),null},lt=function(e,t,n){var a=new URLSearchParams(t.location.search);e.git_url=a.get("giturl");var r=K(a.get("labels"));T(r[0])&&"name"in r[0]&&""!==r[0].name&&(e.selected_labels=r);var u=K(a.get("assignee"));return T(u)&&(e.selected_assignee=u[0]),n("git_url",e.git_url),e},ot=Object(i.e)((function(e){var t=Object(a.useReducer)(Xe,Ke),n=Object(l.a)(t,2),r=n[0],u=n[1],s=Object(o.a)({git_url:"",token:""}),i=s.register,c=s.setValue;return Object(a.useEffect)((function(){c("token",Object(Qe.read_cookie)("git_token")),u({type:"tokenChange",value:Object(Qe.read_cookie)("git_token")})}),[]),Object(a.useEffect)((function(){u({type:"setStateFromURLQueryString",value:{props:e,setValue:c}})}),[e.location]),Object(a.useEffect)((function(){Ue((function(e){u({type:"labelChange",value:e})}),r.git_url,r.token),Ye((function(e){u({type:"memberListChange",value:e})}),r.git_url,r.token)}),[r.git_url,r.token,r.selected_assignee]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("div",{className:"zoom-bar",children:Object(y.jsx)(O,{zoom:r.currentZoom,onZoomChange:function(e){return u({type:"zoomChange",value:e})},onGitURLChange:function(t){return u({type:"gitURLChange",value:{props:e,git_url:t}})},token:r.token,onTokenChange:function(e){return u({type:"tokenChange",value:e})},onUpdateClick:function(){return u({type:"updateClick"})},labels:r.labels,selected_labels:r.selected_labels,onSelectedLabelChange:function(t){return u({type:"selectedLabelsChange",value:{props:e,selected_labels:t}})},member_list:r.member_list,selected_assignee:r.selected_assignee,onSelectedAssigneeChange:function(t){return u({type:"selectedAssigneeChange",value:{props:e,selected_assignee:t}})},register:i})}),Object(y.jsx)("div",{className:"gantt-container",children:Object(y.jsx)(Je,{zoom:r.currentZoom,git_url:r.git_url,token:r.token,selected_labels:r.selected_labels,selected_assignee:r.selected_assignee,update:r.update,openIssueAtBrowser:function(e){return u({type:"openIssueAtBrowser",value:e})},openNewIssueAtBrowser:function(e){return u({type:"openNewIssueAtBrowser",value:e})},updateIssueByAPI:function(e,t){return u({type:"updateIssueByAPI",value:{gantt_task:e,gantt:t}})}})})]})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(Object(y.jsx)(s.a,{children:Object(y.jsx)(i.a,{render:function(e){return Object(y.jsx)(ot,{})}})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[241,1,2]]]);
//# sourceMappingURL=main.c8d8c01a.chunk.js.map